{"version":3,"sources":["addRecord.js"],"names":["_typeof","obj","Symbol","iterator","constructor","prototype","_regeneratorRuntime","exports","Op","Object","hasOwn","hasOwnProperty","defineProperty","key","desc","value","$Symbol","iteratorSymbol","asyncIteratorSymbol","asyncIterator","toStringTagSymbol","toStringTag","define","enumerable","configurable","writable","err","wrap","innerFn","outerFn","self","tryLocsList","protoGenerator","Generator","generator","create","context","Context","makeInvokeMethod","tryCatch","fn","arg","type","call","ContinueSentinel","GeneratorFunction","GeneratorFunctionPrototype","IteratorPrototype","this","getProto","getPrototypeOf","NativeIteratorPrototype","values","Gp","defineIteratorMethods","forEach","method","_invoke","AsyncIterator","PromiseImpl","invoke","resolve","reject","record","result","__await","then","unwrapped","error","previousPromise","callInvokeWithMethodAndArg","state","Error","doneResult","delegate","delegateResult","maybeInvokeDelegate","sent","_sent","dispatchException","abrupt","done","methodName","undefined","TypeError","info","resultName","next","nextLoc","pushTryEntry","locs","entry","tryLoc","catchLoc","finallyLoc","afterLoc","tryEntries","push","resetTryEntry","completion","reset","iterable","iteratorMethod","isNaN","length","i","displayName","isGeneratorFunction","genFun","ctor","name","mark","setPrototypeOf","__proto__","awrap","async","Promise","iter","keys","val","object","reverse","pop","skipTempReset","prev","charAt","slice","stop","rootRecord","rval","exception","handle","loc","caught","hasCatch","hasFinally","finallyEntry","complete","finish","catch","thrown","delegateYield","asyncGeneratorStep","gen","_next","_throw","_asyncToGenerator","args","arguments","apply","userId","editedId","SUPABASE_URL","SUPABASE_KEY","supabase","createClient","bgColor","userInitials","localStorage","getItem","profilePic","document","querySelector","body","navToggler","nav","navActive","FROM_EDIT","textContent","_callee","_yield$supabase$auth$","user","_context","auth","getUser","data","console","log","user_metadata","businessName","id","renderRecordTable","window","location","href","addEventListener","left","style","e","target","children","selectedCategory","JSON","parse","selectedCategoryEl","totalEl","recordsTable","errMsgEl","records","innerHTML","concat","category","total","toLocaleString","_ref2","_callee2","_yield$supabase$from$","_args2","_context2","from","select","eq","order","ascending","alert","message","map","amount","calcAndUpdateTotal","addRecModalEl","overlayEl","addRecForm","addRecBtn","openModalBtn","openModal","fromEdit","modalHeader","classList","add","display","toggle","closeModal","setTimeout","remove","_ref3","_callee3","_yield$supabase$from$2","_yield$supabase$from$3","_error","_args3","_context3","preventDefault","insert","user_id","Toastify","text","duration","newWindow","close","gravity","position","stopOnFocus","background","color","showToast","update","_x","_ref4","_callee4","_yield$supabase$from$4","selectedCategoryInfo","_context4","reduce","a","b","setItem","stringify","clearAllRecords","_ref5","_callee5","_yield$supabase$from$5","_context5","editRecord","_ref6","_callee6","input","_context6","_x2","_x3","deleteRecord","_ref7","_callee7","_yield$supabase$from$6","_context7","_x4"],"mappings":"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","file":"addRecord.js","sourcesContent":["const SUPABASE_URL = \"https://plxvbnykwsgwglpxusar.supabase.co\";\r\nconst SUPABASE_KEY =\r\n  \"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InBseHZibnlrd3Nnd2dscHh1c2FyIiwicm9sZSI6ImFub24iLCJpYXQiOjE2NzU5Nzk5OTYsImV4cCI6MTk5MTU1NTk5Nn0.4e6f--5uvLzay-Xduh0OIRF3fFK3AGHqdsAqMV6vUC0\";\r\nconst supabase = supabase.createClient(SUPABASE_URL, SUPABASE_KEY);\r\n\r\nlet userId;\r\nconst bgColor = `hsl(216, 93%, 44%)`; // for toastify\r\nconst userInitials = localStorage.getItem(\"userInitials\");\r\nconst profilePic = document.querySelector(\"#profilePic\");\r\nconst body = document.querySelector(\"body\");\r\nconst navToggler = document.querySelector(\"#navToggler\");\r\nconst nav = document.querySelector(\".nav\");\r\nlet navActive = false;\r\nlet FROM_EDIT = false;\r\nlet editedId;\r\nprofilePic.textContent = userInitials;\r\n\r\n// ! GETTING USER\r\n(async () => {\r\n  const {\r\n    data: { user },\r\n  } = await supabase.auth.getUser();\r\n  if (user) {\r\n    console.log(user);\r\n    document.querySelector(\"#profilePic\").textContent =\r\n      user.user_metadata.businessName[0];\r\n    userId = user.id;\r\n    renderRecordTable();\r\n  } else {\r\n    window.location.href = \"/login.html\"; // ! CHANGE URL\r\n  }\r\n})();\r\n\r\nnavToggler.addEventListener(\"click\", () => {\r\n  const left = nav.style.left === \"-100%\" ? \"0\" : \"-100%\";\r\n\r\n  if (userId) {\r\n    nav.style.left = left;\r\n  }\r\n\r\n  left === \"-100%\" ? (navActive = false) : (navActive = true);\r\n\r\n  if (navActive) {\r\n    body.addEventListener(\"click\", (e) => {\r\n      if (\r\n        e.target !== navToggler &&\r\n        e.target !== nav &&\r\n        e.target !== nav.children[0]\r\n      ) {\r\n        nav.style.left = \"-100%\";\r\n      }\r\n    });\r\n  }\r\n});\r\n\r\nconst selectedCategory = JSON.parse(localStorage.getItem(\"selectedCategory\"));\r\nconst selectedCategoryEl = document.querySelector(\"#selectedRecordEl\");\r\nconst totalEl = document.querySelector(\"#catTotal\");\r\n\r\nconst recordsTable = document.querySelector(\".records\");\r\nconst errMsgEl = document.querySelector(\".errMsg\");\r\nlet records = [];\r\n\r\n// ! SEMI ROUTE PROTECTION\r\nif (selectedCategory) {\r\n  selectedCategoryEl.innerHTML = `\r\n  Manage record for <span class=\"text-blue font-bold capitalize\">${selectedCategory?.category}</span>\r\n  `;\r\n  totalEl.textContent = `Total : ₦${selectedCategory?.total.toLocaleString()}`;\r\n} else {\r\n  body.innerHTML =\r\n    '<p class=\"font-bold text-3xl text-center text-red-600 mt-20\"> 404 , PAGE NOT FOUND !!</p>';\r\n}\r\n\r\n// ! RENDER TABLE\r\nconst renderRecordTable = async (cleared = false, fromEdit = false) => {\r\n  const { data, error } = await supabase\r\n    .from(\"sub-categories\")\r\n    .select(\"*\")\r\n    .eq(\"user_id\", userId)\r\n    .eq(\"category\", selectedCategory?.category)\r\n    .order(\"created_at\", { ascending: true });\r\n\r\n  if (error) {\r\n    console.log(error);\r\n    alert(error.message);\r\n  }\r\n\r\n  records = data;\r\n\r\n  console.log(records);\r\n\r\n  if (records.length === 0) {\r\n    recordsTable.innerHTML = \"\";\r\n    errMsgEl.innerHTML = `\r\n    <p class=\"font-bold text-xl text-center text-blue mt-5\"> No records for ${selectedCategory.category} yet</p>\r\n    `;\r\n  } else {\r\n    errMsgEl.innerHTML = \"\";\r\n    recordsTable.innerHTML = `\r\n      <div class=\"header font-bold pb-2\">\r\n        <p class=\"text-lg\">S/N</p>\r\n        <p class=\"text-lg\">Amount</p>\r\n        <p class=\"text-lg\">Action</p>\r\n      </div>\r\n     <hr class=\"h-2\">\r\n    `;\r\n    records.map((record, i) => {\r\n      const { id, amount } = record;\r\n\r\n      recordsTable.innerHTML += /* html */ `\r\n      <div class=\"data pt-2\">\r\n        <p class=\"text-lg\">${i + 1}</p>\r\n        <p class=\"text-lg text-green-600 font-medium\">+${amount}</p>\r\n        <div class=\"flex items-center gap-x-3 mx-auto\">\r\n          <i title=\"Edit Record\" onclick=\"editRecord(${id}, ${amount})\" class=\"bi bi-pencil-square text-lg cursor-pointer transition-all hover:opacity-70 \"></i>\r\n          <i title=\"Delete Record\" onclick=\"deleteRecord(${id})\" class=\"bi bi-trash3 text-red-600 text-lg cursor-pointer transition-all hover:opacity-70 \"></i>\r\n        </div>\r\n      </div>\r\n      `;\r\n    });\r\n  }\r\n\r\n  calcAndUpdateTotal();\r\n};\r\n\r\n// ! ADD RECORD MODAL OPENING AND CLOSING\r\nconst addRecModalEl = document.querySelector(\".modal\");\r\nconst overlayEl = document.querySelector(\".overlay\");\r\nconst addRecForm = document.querySelector(\".addRecForm\");\r\nconst addRecBtn = document.querySelector(\"#addRecordBtn\");\r\nconst openModalBtn = document.querySelector(\"#createRecordBtn\");\r\n\r\nopenModalBtn.addEventListener(\"click\", () => {\r\n  openModal();\r\n  console.log(\"triggered\");\r\n});\r\nconst openModal = (fromEdit = false) => {\r\n  const modalHeader = document.querySelector(\"#modalHeader\");\r\n  !fromEdit && (modalHeader.textContent = \"Add new record\");\r\n  fromEdit && (FROM_EDIT = true);\r\n  addRecModalEl.classList.add(\"fade-in\");\r\n  overlayEl.classList.add(\"fade-in\");\r\n  addRecModalEl.style.display = \"block\"; // make the modal visible\r\n  overlayEl.style.display = \"block\"; // make the overlayEl visible\r\n  body.classList.toggle(\"no-scroll\");\r\n\r\n  overlayEl.addEventListener(\"click\", closeModal);\r\n};\r\n\r\nconst closeModal = () => {\r\n  setTimeout(() => {\r\n    addRecBtn.innerHTML = `Add`;\r\n  }, 300);\r\n  FROM_EDIT = false;\r\n  addRecForm.reset();\r\n  addRecModalEl.classList.add(\"fade-out\");\r\n  overlayEl.classList.add(\"fade-out\");\r\n  body.classList.toggle(\"no-scroll\");\r\n\r\n  setTimeout(() => {\r\n    addRecModalEl.style.display = \"none\"; // hide the addRecModalEl after the animation completes\r\n    overlayEl.style.display = \"none\"; // hide the overlayEl after the animation completes\r\n    addRecModalEl.classList.remove(\"fade-out\");\r\n    overlayEl.classList.remove(\"fade-out\");\r\n  }, 300); // set the timeout to match the animation duration\r\n};\r\n\r\n// ! ADDING RECORD\r\naddRecForm.addEventListener(\"submit\", async (e, fromEdit = FROM_EDIT) => {\r\n  e.preventDefault();\r\n  addRecBtn.innerHTML = `\r\n  <img class=\"w-14\" src=\"/images/pulse-loading.gif\">\r\n  `;\r\n  console.log(fromEdit);\r\n\r\n  const amount = e.target.amount.value || 0;\r\n\r\n  console.log(amount);\r\n\r\n  if (!fromEdit) {\r\n    const { data, error } = await supabase\r\n      .from(\"sub-categories\")\r\n      .insert({\r\n        category: selectedCategory.category,\r\n        amount: amount,\r\n        user_id: userId || localStorage.getItem(\"userId\"),\r\n      })\r\n      .select(\"*\");\r\n\r\n    if (data) {\r\n      Toastify({\r\n        text: `Record Added !`,\r\n        duration: 2000,\r\n        newWindow: false,\r\n        close: true,\r\n        gravity: \"top\", // `top` or `bottom`\r\n        position: \"right\", // `left`, `center` or `right`\r\n        stopOnFocus: false, // Prevents dismissing of toast on hover\r\n        style: {\r\n          background: bgColor,\r\n          color: \"#fff\",\r\n        },\r\n      }).showToast();\r\n\r\n      closeModal();\r\n      renderRecordTable(false);\r\n    } else {\r\n      console.error(error);\r\n      alert(error.message);\r\n    }\r\n  } else {\r\n    const { error } = await supabase\r\n      .from(\"sub-categories\")\r\n      .update({ amount: amount })\r\n      .eq(\"id\", editedId);\r\n\r\n    if (!error) {\r\n      Toastify({\r\n        text: `Record Updated !`,\r\n        duration: 2000,\r\n        newWindow: false,\r\n        close: true,\r\n        gravity: \"top\", // `top` or `bottom`\r\n        position: \"right\", // `left`, `center` or `right`\r\n        stopOnFocus: false, // Prevents dismissing of toast on hover\r\n        style: {\r\n          background: bgColor,\r\n          color: \"#fff\",\r\n        },\r\n      }).showToast();\r\n\r\n      closeModal();\r\n      renderRecordTable(false, true);\r\n    } else {\r\n      console.error(error);\r\n      alert(error.message);\r\n    }\r\n  }\r\n});\r\n\r\nconst calcAndUpdateTotal = async () => {\r\n  const total = records.reduce((a, b) => a + b.amount, 0);\r\n  console.log(total);\r\n  totalEl.textContent = `Total : ₦${total.toLocaleString()}`;\r\n\r\n  const { error } = await supabase\r\n    .from(\"categories\")\r\n    .update({ total: total })\r\n    .eq(\"name\", selectedCategory?.category);\r\n\r\n  error && alert(error.message);\r\n\r\n  const selectedCategoryInfo = {\r\n    category: selectedCategory?.category,\r\n    total: total,\r\n  };\r\n  localStorage.setItem(\r\n    \"selectedCategory\",\r\n    JSON.stringify(selectedCategoryInfo)\r\n  );\r\n};\r\n\r\n// ! CLEARING ALL RECORDS\r\nconst clearAllRecords = async () => {\r\n  if (records.length > 0) {\r\n    records = [];\r\n\r\n    const { error } = await supabase\r\n      .from(\"sub-categories\")\r\n      .delete(\"*\")\r\n      .eq(\"user_id\", userId)\r\n      .eq(\"category\", selectedCategory.category);\r\n\r\n    error && alert(error.message);\r\n\r\n    renderRecordTable(true);\r\n\r\n    Toastify({\r\n      text: ` All Record Deleted !`,\r\n      duration: 2000,\r\n      newWindow: false,\r\n      close: true,\r\n      gravity: \"top\", // `top` or `bottom`\r\n      position: \"right\", // `left`, `center` or `right`\r\n      stopOnFocus: false, // Prevents dismissing of toast on hover\r\n      style: {\r\n        background: bgColor,\r\n        color: \"#fff\",\r\n      },\r\n    }).showToast();\r\n  } else {\r\n    Toastify({\r\n      text: `No records to clear!`,\r\n      duration: 2000,\r\n      newWindow: false,\r\n      close: true,\r\n      gravity: \"top\", // `top` or `bottom`\r\n      position: \"right\", // `left`, `center` or `right`\r\n      stopOnFocus: false, // Prevents dismissing of toast on hover\r\n      style: {\r\n        background: bgColor,\r\n        color: \"#fff\",\r\n      },\r\n    }).showToast();\r\n  }\r\n};\r\n\r\n// ! EDITING AND DELETING RECORDS\r\nconst editRecord = async (id, amount) => {\r\n  console.log(id, amount);\r\n  editedId = id;\r\n  const modalHeader = document.querySelector(\"#modalHeader\");\r\n  const input = document.querySelector('input[name=\"amount\"]');\r\n\r\n  modalHeader.textContent = \"Edit record\";\r\n  input.value = amount;\r\n  openModal(true);\r\n};\r\n\r\n\r\nconst deleteRecord = async (id) => {\r\n  const { error } = await supabase\r\n  .from(\"sub-categories\")\r\n  .delete(\"*\")\r\n  .eq(\"id\", id)\r\n  .eq(\"user_id\", userId)\r\n  \r\n  if (error) {\r\n    console.log(error);\r\n    alert(error.message);\r\n  }\r\n\r\n  Toastify({\r\n    text: `Record Deleted!`,\r\n    duration: 2000,\r\n    newWindow: false,\r\n    close: true,\r\n    gravity: \"top\", // `top` or `bottom`\r\n    position: \"right\", // `left`, `center` or `right`\r\n    stopOnFocus: false, // Prevents dismissing of toast on hover\r\n    style: {\r\n      background: bgColor,\r\n      color: \"#fff\",\r\n    },\r\n  }).showToast();\r\n\r\n  renderRecordTable()\r\n}"]}